<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Edit Text in Image Online | AI Text Editor - Change Text in Photos</title>
    <meta name="description" content="Edit text in images online using AI. Change, replace, or modify text in photos instantly. Professional text editing tool powered by Google Gemini. $0.5 per image." />
    <meta name="keywords" content="edit text in image, change text in image, replace text in image, edit text in photo, modify text in image, text editor for images" />
    <meta name="robots" content="index, follow" />
    <link rel="canonical" href="https://www.changeimageto.com/edit-text-in-image.html" />

    <meta property="og:title" content="Edit Text in Image Online" />
    <meta property="og:description" content="AI-powered text editing tool. Change text in images instantly." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.changeimageto.com/edit-text-in-image.html" />

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="preload" as="style" href="./styles.css?v=20250916-3" />
    <link rel="stylesheet" href="./styles.css?v=20250916-3" />

<!-- Google AI Overview tracking -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  if (window.location.hash.includes(":~:text")) {
    if (typeof gtag === "function") {
      gtag("event", "ai_overview", {
        anchor: window.location.hash
      });
    } else {
      const checkGtag = setInterval(() => {
        if (typeof gtag === "function") {
          clearInterval(checkGtag);
          gtag("event", "ai_overview", {
            anchor: window.location.hash
          });
        }
      }, 100);
      setTimeout(() => clearInterval(checkGtag), 10000);
    }
  }
});
</script>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-D3Q582VFCG"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-D3Q582VFCG');
</script>
  </head>
  <body>
    <header class="container header">
      <a href="/" class="logo-link"><img src="./logo.png?v=20250916-2" alt="ChangeImageTo" class="logo-img" /></a>
      <div style="display:flex;align-items:center;gap:16px;justify-content:space-between;width:100%">
        <h1 style="margin:0">Edit Text in Image Online</h1>
        <nav class="top-nav"><a href="/blog" aria-label="Read our blog">Blog</a></nav>
      </div>
      <p>Edit and change text in images using AI. Upload an image, specify the text to find and replace, and get professional results. Powered by Google Gemini AI. $0.5 per image.</p>
    </header>

    <main class="container main">
      <form id="upload-form">
        <div class="text-inputs" style="display:grid;grid-template-columns:1fr 1fr;gap:16px;margin:24px 0">
          <div class="input-group" style="display:flex;flex-direction:column;gap:8px">
            <label for="text-to-find" style="font-weight:600;color:var(--fg)">Text to Find:</label>
            <input type="text" id="text-to-find" name="text_to_find" placeholder="Enter text to find in image" required style="background:var(--card);border:1px solid var(--border);border-radius:8px;padding:12px;color:var(--fg);font-size:14px" />
          </div>
          <div class="input-group" style="display:flex;flex-direction:column;gap:8px">
            <label for="text-to-replace" style="font-weight:600;color:var(--fg)">Replace With:</label>
            <input type="text" id="text-to-replace" name="text_to_replace" placeholder="Enter replacement text" required style="background:var(--card);border:1px solid var(--border);border-radius:8px;padding:12px;color:var(--fg);font-size:14px" />
          </div>
        </div>

        <div class="uploader" id="dropzone">
          <input type="file" id="file-input" accept="image/*" />
          <div class="uploader-instructions">
            <strong>Drop image here</strong>
            <span>or click to browse</span>
          </div>
        </div>

        <div style="display: flex; gap: 12px; align-items: flex-start; flex-wrap: wrap; margin-top: 16px;">
          <button id="process-btn" type="button" disabled style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border: none; padding: 12px 24px; border-radius: 8px; color: white; font-weight: 600; cursor: pointer; font-size: 14px;">
            Change Text $0.5 per image
          </button>
        </div>
      </form>
      
      <div id="status" class="status" style="display:none; margin-top: 16px;"></div>

      <section class="preview" id="preview-section" hidden>
        <div class="preview-grid">
          <div>
            <h3>Original</h3>
            <img id="original-img" alt="Original preview" />
          </div>
          <div>
            <h3>Text Edited</h3>
            <p id="process-prompt" class="prompt">Complete payment to process.</p>
            <div id="result-wrapper" hidden>
              <div class="checkerboard">
                <img id="result-img" alt="Text edited result" />
              </div>
              <div class="actions">
                <a id="download-link" download="text-edited.png" class="btn">Download PNG</a>
                <button id="reset-btn" class="btn secondary" type="button">Try Another Image</button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="seo">
        <h2>How to edit text in an image?</h2>
        <ol>
          <li>Enter the text you want to find and the replacement text in the fields above.</li>
          <li>Upload your image using the uploader.</li>
          <li>Click <strong>Change Text $0.5 per image</strong> to create a payment checkout.</li>
          <li>Complete the payment and return to this page.</li>
          <li>Your image will be automatically processed with the text edited.</li>
          <li>Download your edited image instantly.</li>
        </ol>

        <h3>Why edit text in images?</h3>
        <ul>
          <li><strong>Marketing Materials:</strong> Update prices, dates, or promotional text in banners and ads.</li>
          <li><strong>Social Media:</strong> Fix typos or update text in memes and graphics.</li>
          <li><strong>Ecommerce:</strong> Update product names, prices, or descriptions in product images.</li>
          <li><strong>Documents:</strong> Correct text in scanned documents or screenshots.</li>
          <li><strong>Personal Use:</strong> Edit text in personal photos, invitations, or announcements.</li>
        </ul>

        <h3>How it works</h3>
        <p>Our AI-powered text editing tool uses Google Gemini's advanced image understanding to locate and replace text in your images. The AI maintains the original font style, size, color, and position while seamlessly replacing the text. This creates natural-looking results that blend perfectly with your image.</p>

        <h3>Related Tools</h3>
        <p>Looking for other text-related tools? Try these:</p>
        <ul>
          <li><a href="/remove-text-from-image.html">Remove Text from Image</a> - Remove unwanted text, watermarks, and captions</li>
          <li><a href="/change-image-background.html">Change Background</a> - Replace image backgrounds with colors or custom images</li>
          <li><a href="/enhance-image.html">Enhance Image</a> - Improve image quality with AI-powered enhancements</li>
        </ul>
      </section>
    </main>

    <nav class="seo-links">
      <a href="/remove-background-from-image.html">Remove Background from Image</a>
      <a href="/change-color-of-image.html">Change color of image online</a>
      <a href="/change-image-background.html">Change image background</a>
      <a href="/remove-text-from-image.html">Remove Text from Image</a>
      <a href="/edit-text-in-image.html">Edit Text in Image</a>
      <a href="/convert-image-format.html">Convert image format</a>
      <a href="/upscale-image.html">AI Image Upscaler</a>
      <a href="/enhance-image.html">Enhance Image</a>
    </nav>

    <footer class="comprehensive-footer">
      <div class="container">
        <div class="footer-grid">
          <!-- Brand Section -->
          <div class="footer-brand">
            <div class="footer-logo">
              <img src="/logo.png?v=20250921-1" alt="ChangeImageTo" style="height: 32px; margin-bottom: 16px;">
            </div>
            <p class="footer-description">
              The leading platform for free online image editing. Remove backgrounds, change colors, resize images, and enhance photos instantly with AI-powered tools.
            </p>
            <div class="footer-social">
              <a href="https://x.com/vipulawl" aria-label="Follow us on Twitter" class="social-link">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/>
                </svg>
              </a>
              <a href="https://www.youtube.com/@changeimageto" aria-label="Subscribe on YouTube" class="social-link">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/>
                </svg>
              </a>
              <a href="https://linkedin.com/company/make-a-video/" aria-label="Connect on LinkedIn" class="social-link">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                  <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                </svg>
              </a>
            </div>
          </div>

          <!-- Tools Section -->
          <div class="footer-section">
            <h3 class="footer-heading">Image Tools</h3>
            <ul class="footer-links">
              <li><a href="/remove-background-from-image.html">Remove Background</a></li>
              <li><a href="/change-image-background.html">Change Background</a></li>
              <li><a href="/change-color-of-image.html">Change Image Colors</a></li>
              <li><a href="/upscale-image.html">Upscale Image</a></li>
              <li><a href="/enhance-image.html">Enhance Image</a></li>
              <li><a href="/blur-background.html">Blur Background</a></li>
              <li><a href="/edit-text-in-image.html">Edit Text in Image</a></li>
              <li><a href="/convert-image-format.html">Convert Image Format</a></li>
              <li><a href="/remove-people-from-photo.html">Remove People / Objects</a></li>
              <li><a href="/remove-text-from-image.html">Remove Text / Watermark</a></li>
              <li><a href="/bulk-image-resizer.html">Bulk Image Resizer</a></li>
              <li><a href="/image-quality-checker.html">Image Quality Checker</a></li>
              <li><a href="/real-estate-photo-enhancement.html">Real Estate Photo Enhancement</a></li>
            </ul>
          </div>

          <!-- Blog Section -->
          <div class="footer-section">
            <h3 class="footer-heading">Latest Blog Posts</h3>
            <ul class="footer-links">
              <li><a href="/blog/remove-background-from-image.html">Remove Background from Image</a></li>
              <li><a href="/blog/upscale-image.html">Upscale Image Quality</a></li>
              <li><a href="/blog/change-image-background-color.html">Change Image Background Color</a></li>
              <li><a href="/blog/remove-background-from-image-photoshop.html">Remove Background in Photoshop</a></li>
              <li><a href="/blog/change-image-background-color-online.html">Change Background Color Online</a></li>
              <li><a href="/blog/remove-background-from-image-canva.html">Remove Background in Canva</a></li>
              <li><a href="/blog/change-image-background-color-photoshop.html">Change Background in Photoshop</a></li>
              <li><a href="/blog/remove-background-from-image-android.html">Remove Background on Android</a></li>
            </ul>
          </div>

          <!-- Alternatives Section -->
          <div class="footer-section">
            <h3 class="footer-heading">Tool Alternatives</h3>
            <ul class="footer-links">
              <li><a href="/blog/photopea-vs-canva.html">Photopea vs Canva</a></li>
              <li><a href="/blog/capcut-vs-davinci-resolve.html">CapCut vs DaVinci Resolve</a></li>
              <li><a href="/blog/canva-vs-photopea.html">Canva vs Photopea</a></li>
              <li><a href="/blog/free-photoshop-alternatives.html">Free Photoshop Alternatives</a></li>
              <li><a href="/blog/ai-background-removers.html">AI Background Removers</a></li>
            </ul>
          </div>

          <!-- Company Section -->
          <div class="footer-section">
            <h3 class="footer-heading">Company</h3>
            <ul class="footer-links">
              <li><a href="/privacy-policy.html">Privacy Policy</a></li>
              <li><a href="/contact.html">Contact Us</a></li>
              <li><a href="/about.html">About</a></li>
            </ul>
          </div>
        </div>

        <!-- Bottom Bar -->
        <div class="footer-bottom">
          <div class="footer-bottom-content">
            <p class="footer-copyright">
              © 2024 ChangeImageTo.com. All rights reserved. Built for speed and quality.
            </p>
            <div class="footer-bottom-links">
              <a href="/privacy-policy.html">Privacy</a>
              <a href="#terms">Terms</a>
              <a href="#cookies">Cookies</a>
              <a href="#security">Security</a>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <script src="./script.js?v=20251220-1" defer></script>
    
    <style>
      #status {
        padding: 12px 16px;
        border-radius: 8px;
        margin-top: 16px;
        display: none;
      }
      #status.status {
        background: var(--card);
        color: var(--muted);
      }
      #status.status.success {
        background: #1f3a1f;
        color: #6bff6b;
      }
      #status.status.error {
        background: #3a1f1f;
        color: #ff6b6b;
      }
      #status.status.info {
        background: #1f3a3a;
        color: #6bffff;
      }
      #process-btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
      }
      @media(max-width:768px){.text-inputs{grid-template-columns:1fr}}
    </style>
    
    <script>
      // Edit text in image with payment functionality
      (function() {
        const processBtn = document.getElementById('process-btn');
        const fileInput = document.getElementById('file-input');
        const dropzone = document.getElementById('dropzone');
        const statusDiv = document.getElementById('status');
        const textToFindInput = document.getElementById('text-to-find');
        const textToReplaceInput = document.getElementById('text-to-replace');
        const originalImg = document.getElementById('original-img');
        const resultImg = document.getElementById('result-img');
        const resultWrapper = document.getElementById('result-wrapper');
        const processPrompt = document.getElementById('process-prompt');
        const downloadLink = document.getElementById('download-link');
        const previewSection = document.getElementById('preview-section');
        const resetBtn = document.getElementById('reset-btn');
        
        let currentFile = null;
        let paymentSessionId = null;
        let hasProcessed = false;
        
        // Determine API base URL (production vs local)
        const isLocal = window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1';
        const API_BASE = isLocal ? 'http://127.0.0.1:8000' : 'https://bgremover-backend-121350814881.us-central1.run.app';
        
        function showStatus(message, type = 'info') {
          statusDiv.textContent = message;
          statusDiv.className = `status ${type}`;
          statusDiv.style.display = 'block';
        }
        
        function hideStatus() {
          statusDiv.style.display = 'none';
        }
        
        function setOriginalPreview(file) {
          const reader = new FileReader();
          reader.onload = (e) => {
            const dataUrl = e.target.result;
            originalImg.src = dataUrl;
            if (previewSection) previewSection.hidden = false;
            if (resultWrapper) resultWrapper.hidden = true;
            if (processPrompt) processPrompt.style.display = 'block';
          };
          reader.readAsDataURL(file);
        }
        
        function validateForm() {
          const hasFile = currentFile !== null;
          const hasTextToFind = textToFindInput.value.trim() !== '';
          const hasTextToReplace = textToReplaceInput.value.trim() !== '';
          processBtn.disabled = !(hasFile && hasTextToFind && hasTextToReplace);
        }
        
        // Enable button when file and text inputs are filled
        fileInput.addEventListener('change', (e) => {
          const file = e.target.files[0];
          if (file) {
            currentFile = file;
            setOriginalPreview(file);
            hideStatus();
            validateForm();
            // Reset payment state when new file is uploaded
            paymentSessionId = null;
            hasProcessed = false;
          }
        });
        
        textToFindInput.addEventListener('input', validateForm);
        textToReplaceInput.addEventListener('input', validateForm);
        
        dropzone.addEventListener('dragover', (e) => {
          e.preventDefault();
          dropzone.style.borderColor = 'var(--accent)';
        });
        
        dropzone.addEventListener('dragleave', () => {
          dropzone.style.borderColor = 'var(--border)';
        });
        
        dropzone.addEventListener('drop', (e) => {
          e.preventDefault();
          dropzone.style.borderColor = 'var(--border)';
          const file = e.dataTransfer.files[0];
          if (file && file.type.startsWith('image/')) {
            fileInput.files = e.dataTransfer.files;
            currentFile = file;
            setOriginalPreview(file);
            hideStatus();
            validateForm();
            // Reset payment state when new file is uploaded
            paymentSessionId = null;
            hasProcessed = false;
          }
        });
        
        // Store file and text data before payment redirect
        function storePendingData(file, textToFind, textToReplace) {
          const reader = new FileReader();
          reader.onload = (e) => {
            sessionStorage.setItem('editTextPendingImageData', e.target.result);
            sessionStorage.setItem('editTextPendingImageName', file.name);
            sessionStorage.setItem('editTextPendingImageType', file.type);
            sessionStorage.setItem('editTextPendingTextToFind', textToFind);
            sessionStorage.setItem('editTextPendingTextToReplace', textToReplace);
          };
          reader.readAsDataURL(file);
        }
        
        // Restore file and text data after payment redirect
        function restorePendingData() {
          const imageData = sessionStorage.getItem('editTextPendingImageData');
          const imageName = sessionStorage.getItem('editTextPendingImageName');
          const imageType = sessionStorage.getItem('editTextPendingImageType');
          const textToFind = sessionStorage.getItem('editTextPendingTextToFind');
          const textToReplace = sessionStorage.getItem('editTextPendingTextToReplace');
          
          if (imageData && imageName && imageType && textToFind && textToReplace) {
            fetch(imageData)
              .then(res => res.blob())
              .then(blob => {
                const file = new File([blob], imageName, { type: imageType });
                currentFile = file;
                textToFindInput.value = textToFind;
                textToReplaceInput.value = textToReplace;
                originalImg.src = imageData;
                if (previewSection) previewSection.hidden = false;
                
                // Auto-process after data restoration
                if (paymentSessionId) {
                  setTimeout(() => {
                    processImage();
                  }, 500);
                }
              })
              .catch(err => {
                console.error('Error restoring file:', err);
                showStatus('Error restoring image. Please upload again.', 'error');
              });
          }
        }
        
        // Handle process button click - create payment
        processBtn.addEventListener('click', async () => {
          if (!currentFile) return;
          if (!textToFindInput.value.trim() || !textToReplaceInput.value.trim()) {
            showStatus('Please enter both text to find and text to replace', 'error');
            return;
          }
          
          // Track button click in Google Analytics
          window.dataLayer = window.dataLayer || [];
          if (typeof gtag === 'function') {
            gtag('event', 'edit_text_button_click', {
              event_category: 'engagement',
              event_label: 'edit_text_in_image',
              page_path: window.location.pathname,
              page_title: document.title,
              value: 1
            });
          } else {
            window.dataLayer.push({
              'event': 'edit_text_button_click',
              'event_category': 'engagement',
              'event_label': 'edit_text_in_image',
              'page_path': window.location.pathname,
              'page_title': document.title,
              'value': 1
            });
          }
          
          processBtn.disabled = true;
          processBtn.textContent = 'Creating checkout...';
          showStatus('Creating payment checkout...', 'info');
          
          // Store data before redirect
          storePendingData(currentFile, textToFindInput.value.trim(), textToReplaceInput.value.trim());
          
          try {
            const returnUrl = window.location.href.split('?')[0];
            const checkoutResponse = await fetch(`${API_BASE}/api/create-payment-checkout`, {
              method: 'POST',
              headers: {
                'Content-Type': 'application/json'
              },
              body: JSON.stringify({
                return_url: returnUrl
              })
            });
            
            if (!checkoutResponse.ok) {
              const errorText = await checkoutResponse.text();
              throw new Error(`HTTP ${checkoutResponse.status}: ${errorText}`);
            }
            
            const checkoutData = await checkoutResponse.json();
            paymentSessionId = checkoutData.session_id;
            
            // Redirect to checkout
            window.location.href = checkoutData.checkout_url;
            
          } catch (error) {
            console.error('Error:', error);
            showStatus('Error: ' + error.message, 'error');
            processBtn.disabled = false;
            processBtn.textContent = 'Change Text $0.5 per image';
          }
        });
        
        // Process image with Google Gemini after payment
        async function processImage() {
          if (!currentFile || !paymentSessionId) {
            showStatus('Please complete payment first', 'error');
            return;
          }
          
          if (hasProcessed) {
            showStatus('This payment has already been used. Please pay again to process another image.', 'error');
            return;
          }
          
          if (!textToFindInput.value.trim() || !textToReplaceInput.value.trim()) {
            showStatus('Please enter both text to find and text to replace', 'error');
            return;
          }
          
          processBtn.disabled = true;
          processBtn.textContent = 'Processing...';
          showStatus(`Editing text: "${textToFindInput.value}" → "${textToReplaceInput.value}" using Google Gemini...`, 'info');
          
          try {
            const formData = new FormData();
            formData.append('file', currentFile);
            formData.append('text_to_find', textToFindInput.value.trim());
            formData.append('text_to_replace', textToReplaceInput.value.trim());
            formData.append('payment_session_id', paymentSessionId);
            
            const response = await fetch(`${API_BASE}/api/edit-text-in-image`, {
              method: 'POST',
              body: formData
            });
            
            if (!response.ok) {
              const errorText = await response.text();
              throw new Error(`HTTP ${response.status}: ${errorText}`);
            }
            
            const blob = await response.blob();
            const url = URL.createObjectURL(blob);
            
            // Show result
            resultImg.src = url;
            if (processPrompt) processPrompt.style.display = 'none';
            if (resultWrapper) resultWrapper.hidden = false;
            if (previewSection) previewSection.hidden = false;
            
            downloadLink.href = url;
            downloadLink.download = `text-edited-${Date.now()}.png`;
            
            showStatus('Text edited successfully!', 'success');
            hasProcessed = true;
            processBtn.disabled = true;
            processBtn.textContent = 'Processing Complete';
            
          } catch (error) {
            console.error('Error:', error);
            showStatus('Error: ' + error.message, 'error');
            
            // Reset state if payment session error
            if (error.message.includes('already been used') || error.message.includes('403')) {
              paymentSessionId = null;
              hasProcessed = false;
              processBtn.disabled = false;
              processBtn.textContent = 'Change Text $0.5 per image';
            }
          }
        }
        
        // Reset button handler
        if (resetBtn) {
          resetBtn.addEventListener('click', () => {
            currentFile = null;
            paymentSessionId = null;
            hasProcessed = false;
            fileInput.value = '';
            textToFindInput.value = '';
            textToReplaceInput.value = '';
            if (previewSection) previewSection.hidden = true;
            if (resultWrapper) resultWrapper.hidden = true;
            if (processPrompt) processPrompt.style.display = 'block';
            hideStatus();
            validateForm();
          });
        }
        
        // Check for payment success on page load (returning from checkout)
        window.addEventListener('load', () => {
          const urlParams = new URLSearchParams(window.location.search);
          const sessionId = urlParams.get('session_id');
          
          if (sessionId) {
            paymentSessionId = sessionId;
            showStatus('Payment verified! Restoring your image...', 'success');
            
            restorePendingData();
            
            // Clean URL
            window.history.replaceState({}, document.title, window.location.pathname);
          }
        });
      })();
    </script>
  </body>
</html>


